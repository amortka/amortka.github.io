(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports={cursor:"CursorParallax_cursor__14cNF",active:"CursorParallax_active__3J2um",wrapper:"CursorParallax_wrapper__Rq-RK"}},134:function(e,t,n){e.exports={canvas:"SceneContainer_canvas__2pnsa",wrapper:"SceneContainer_wrapper__3kzlN"}},182:function(e,t,n){e.exports={Frame:"Frame_Frame__Z95oO"}},197:function(e,t,n){e.exports=n(342)},204:function(e,t,n){},206:function(e,t,n){},246:function(e,t){},248:function(e,t){},342:function(e,t,n){"use strict";n.r(t);var a,o,r=n(1),i=n.n(r),s=n(15),c=n.n(s),l=(n(202),n(204),n(88)),u=n(11),h=n(13),p=n(39),d=n(35),f=n(38),v=n(17),m=n(356),y=n(353),b=n(354),g=(n(206),n(133)),w=n.n(g),x=n(85),O=n.n(x),k=n(134),j=n.n(k),S=n(3),_=n(179),M=n.n(_),C=function(){function e(t,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Object(u.a)(this,e),a)return a;this.controls=new M.a(t,n),this.controls.enabled=o,this.controls.enableDamping=!0,this.controls.dampingFactor=.1,this.controls.rotateSpeed=.2,this.controls.autoRotateSpeed=.1,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI/2-Math.PI/180*0,a=this}return Object(h.a)(e,[{key:"enable",value:function(){this.controls.enabled=!0}},{key:"disable",value:function(){this.controls.enabled=!1}},{key:"update",value:function(){this.controls.update()}}]),e}(),P=6378137,E=[17.038538,51.107883],z=function(e){return 3.14159*e/180},A=function(e){return 180*e/3.14159},L=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(Object(u.a)(this,e),o)return o;this.lon=Array.isArray(t)?t[0]:t.lon,this.lat=Array.isArray(t)?t[1]:t.lat,this.latInRadians=z(this.lat),this.k=n,this.radius=P,o=this}return Object(h.a)(e,[{key:"fromGeo",value:function(e,t){var n=z(t),a=z(e-this.lon),o=Math.sin(a)*Math.cos(n);return{x:.5*this.k*this.radius*Math.log((1+o)/(1-o)),y:-this.k*this.radius*(Math.atan(Math.tan(n)/Math.cos(a))-this.latInRadians)}}},{key:"fromXY",value:function(e,t){var n=e/(this.k*this.radius),a=t/(this.k*this.radius)+this.latInRadians,o=Math.atan(Math.sinh(n)/Math.cos(a)),r=Math.asin(Math.sin(a)/Math.cosh(n));return o=this.lon+A(o),{lat:r=A(r),lon:o}}}]),e}(),R=n(346),B=n(86),$=n(343),F=n(345),T=new function e(){Object(u.a)(this,e),this.sceneSwitch$=new $.a,this.sceneProgress$=new $.a,this.sceneLerp$=new $.a,this.animatePause$=new F.a(!1),this.animateProgress$=new $.a,this.radius$=new $.a},D=new S.Vector3(0,0,0),W=function(){function e(t){Object(u.a)(this,e),console.log("SceneManager()"),this.canvas=t,this.dimensions={width:t.width,height:t.height},this.layers=[],this.init(),this.destroyed=!1}return Object(h.a)(e,[{key:"destroy",value:function(){console.log("destroy:",this.c),this.destroyed=!0,window.cancelAnimationFrame(this.raf),document.removeEventListener("keydown",this.onKeyDown,!1),this.layers.forEach(function(e){return e.destroy()})}},{key:"init",value:function(){this.initScene(),this.initRenderer(),this.initCamera(),this.initMercator(),this.initHelpers(),this.initControls(),this.initEvents(),this.loop()}},{key:"loop",value:function(){var e=this;this.destroyed||(this.update(),this.render(),this.raf=window.requestAnimationFrame(function(){return e.loop()}))}},{key:"initScene",value:function(){this.scene=new S.Scene,this.layersGroup=new S.Group,this.layersGroup.name="main_group",this.scene.add(this.layersGroup)}},{key:"initHelpers",value:function(){new S.AxesHelper(1e3);var e=new S.GridHelper(1e5,1e3,1752220,1752220);e.position.setY(0),e.material.blending=S.AdditiveBlending,e.material.opacity=.1,e.material.transparent=!0,this.scene.add(e);var t=new S.OctahedronGeometry(10),n=new S.MeshNormalMaterial;this.cameraPositionHelper=new S.Mesh(t,n)}},{key:"initRenderer",value:function(){var e=new S.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!1,opacity:.8,blending:S.AdditiveBlending});e.setClearColor(16777215,0),e.shadowMap.soft=!1,e.shadowMap.enabled=!0,e.setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),this.renderer=e}},{key:"initCamera",value:function(){this.lerpEnabled=!0,this.cameraTargetPosition=new S.Vector3(0,3e3,0);var e=this.canvas.width/this.canvas.height;this.camera=new S.PerspectiveCamera(20,e,10,5e4),this.camera.position.set(100,100,50)}},{key:"initControls",value:function(){var e=this;this.cameraTarget=new S.Vector3(0,0,0),this.camera.position.set(674.4484878333734,699.3695242813109,1679.9599093246045),this.cameraPosition=new S.Vector3(674.4484878333734,699.3695242813109,1679.9599093246045),this.cameraControls=new C(this.camera,this.canvas),this.loadCameraFromLS(),this.cameraControls.update();var t=window.innerWidth,n=window.innerHeight;this.cameraMove$=Object(R.a)(window,"mousemove",{passive:!0}),this.cameraMove$.pipe(Object(B.a)(function(e){var a=e.clientX,o=e.clientY;return{x:a/t*2-1,y:o/n*2-1}})).subscribe(function(t){var n=t.x,a=t.y,o=z(30*n),r=2500-1500*a;e.cameraPosition.x=2500*Math.sin(o),e.cameraPosition.z=2500*Math.cos(o),e.cameraPosition.y=r})}},{key:"initEvents",value:function(){var e=this;this.onKeyDown=this.onKeyDown.bind(this),document.addEventListener("keydown",this.onKeyDown,!1),T.sceneLerp$.subscribe(function(t){e.lerpEnabled=t})}},{key:"initMercator",value:function(){this.mercator=new L(E,.1)}},{key:"loadCameraFromLS",value:function(){var e=JSON.parse(localStorage.getItem("".concat("wroclovedata_","_controls")));e&&this.cameraControls&&(this.cameraControls.controls.target.copy(e.target),this.cameraControls.controls.object.position.copy(e.position),this.cameraControls.controls.object.zoom=e.zoom)}},{key:"saveControlsLS",value:function(){var e={target:this.cameraControls.controls.target,position:this.cameraControls.controls.object.position,zoom:this.cameraControls.controls.object.zoom};console.log("controls",{controls:e}),localStorage.setItem("".concat("wroclovedata_","_controls"),JSON.stringify(e))}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 83:this.saveControlsLS();break;case 68:console.log("LOAD camera from LS <=="),this.loadCameraFromLS()}}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"update",value:function(){this.cameraControls.update(),this.lerpEnabled&&(this.camera.lookAt(D),this.camera.position.lerp(this.cameraPosition,.005)),this.layers.forEach(function(e){return e.update()})}},{key:"addLayer",value:function(e){this.layers.push(e),e.init(this.layersGroup)}},{key:"setLayerVisibility",value:function(e,t){e.group.traverse(function(e){e instanceof S.Mesh&&(e.visible=t)})}},{key:"setLayerOpacity",value:function(e,t,n){e.setOpacity(t,n)}}]),e}(),G=n(30),N=n(357),Z=n(2),H=n(57),V=(n(259),n(355)),Y=n(348),X=n(347),I=n(349),q=function(){function e(t,n){Object(u.a)(this,e),this.data=O()(t,{columns:!0}),console.log("points:",this.data.length),this.options=Object(G.a)({},n,{columns:!0}),this.mercator=new L}return Object(h.a)(e,[{key:"init",value:function(e){this.group=new S.Group,this.group.name="CSVLayer.group",e.add(this.group),this.createObjects()}},{key:"destroy",value:function(){}},{key:"createObjects",value:function(){var e=this,t=[4056753,2288880,1692157,1356285,2916315,4018879,6633907,10498738,13706409,16454556,16600491,16689108,16777215].map(function(e){return new S.Color(e)}),n=Object(H.a)().domain([3,6,9,12,15,18,21,24,27,30,33,36,39]).range(t),a=new S.BufferGeometry,o=[],r=new Float32Array(2*this.data.length),i=new Float32Array(2*this.data.length),s=[];this.data.forEach(function(t,a){var c=e.mercator.fromGeo(parseFloat(t.X),parseFloat(t.Y)),l=c.x,u=c.y,h=t.value;o.push(l,0,u),o.push(l,h,u);var p=a/e.data.length*2*3.14159;r[2*a]=p,r[2*a+1]=p;var d=2*Math.random()-1;i[2*a]=d,i[2*a+1]=d;var f=n(h);new S.Vector3(255*f.r,255*f.g,255*f.b);s.push(f.r,f.g,f.b),s.push(f.r,f.g,f.b)}),a.addAttribute("position",new S.Float32BufferAttribute(o,3)),a.addAttribute("a_degree",new S.BufferAttribute(r,1)),a.addAttribute("a_displacement",new S.BufferAttribute(i,1)),a.addAttribute("a_color",new S.Float32BufferAttribute(s,3));var c={u_hexSize:{type:"f",value:1},u_angle:{type:"f",value:0}},l=new S.ShaderMaterial({uniforms:c,vertexShader:"\nattribute float a_degree;\nattribute float a_displacement;\nattribute vec3 a_color;\n\nvarying vec3 color;\n\nuniform float u_hexSize;\nuniform float u_angle;\n\nvec2 hexToPixel(vec3 h) {\n  float x = u_hexSize * sqrt(3.0) * (h.x + h.y / 2.0) ;\n  float y = u_hexSize * 3.0 / 2.0 * h.y;\n  \n  return vec2(x, y);  \n}\n\nvec3 cubeRound(vec3 cube) {\n  float rX = floor(cube.x + 0.5);\n  float rY = floor(cube.y + 0.5);\n  float rZ = floor(cube.z + 0.5);\n\n  float xDiff = abs(rX - cube.x);\n  float yDiff = abs(rY - cube.y);\n  float zDiff = abs(rZ - cube.z);\n\n  if (xDiff > yDiff && xDiff > zDiff) {\n    rX = -rY - rZ;\n  } else if (yDiff > zDiff) {\n    rY = -rX - rZ;\n  } else {\n    rZ = -rX - rY;\n  }\n\n  return vec3(rX, rY, rZ);\n}\n\nvec3 pixelToHex(vec3 p) {\n  float q = (((p.x) * sqrt(3.0) / 3.0) / u_hexSize - ((p.z) / 3.0) / u_hexSize);\n  float r = (p.z) * 2.0 / 3.0 / u_hexSize;\n  \n  return vec3(q, r, -q - r);\n}\n\nvoid main() { \n  vec2 pos = hexToPixel(cubeRound(pixelToHex(position)));\n \n  float xx = pos.x;\n  float yy = position.y * 0.5;\n  float zz = pos.y;\n\n   float x = (1.0 - u_angle) * xx + \n     ((100.0 + 10.0 * a_displacement) * sin(a_degree * u_angle + xx/10.0 )) * u_angle;\n   float y = yy * (1.0 - u_angle);\n   float z = (1.0 - u_angle) * zz + \n     ((100.0 + 10.0 * a_displacement) * cos(a_degree * u_angle + zz/10.0 )) * u_angle;\n\n  color = a_color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(vec3(x, y, z), 1.0);\n }\n",fragmentShader:"\n//Just as vertex shader, fragment shader must in the end set this variable (gl_FragColor)\n//We set it to a pink color.\nuniform vec2 u_resolution;\nuniform float u_time;\n\nvarying vec3 color;\n\nvoid main() {\n  vec2 st = gl_FragCoord.xy / u_resolution.xy;\n\n  gl_FragColor = vec4( color, 0.2);\n  // gl_FragColor = vec4(1.0,  // R\n                    //  1.0,  // G\n                    //  1.0,  // B\n                    //  1.0); // A\n}\n\n"}),u=new S.LineSegments(a,l);this.group.add(u);var h=Object(R.a)(document,"mousemove");Object(V.a)(T.animatePause$.pipe(Object(X.a)(function(e){return e?Object(Y.a)():h}),Object(B.a)(function(e){var t=(e.pageX-window.scrollX-window.innerWidth/2)/(window.innerWidth/2),n=(e.pageY-window.scrollY-window.innerHeight/2)/(window.innerHeight/2);return Math.max(t,n)})),T.radius$.pipe(Object(I.a)(function(e){return!e.inner}),Object(B.a)(function(e){return e.value}))).subscribe(function(e){c.u_hexSize.value=10*e,T.radius$.next({value:100*e,inner:!0})});var p={u_angle:c.u_angle.value},d=new N.a({paused:!0,repeat:-1,repeatDelay:2,yoyo:!0,onUpdate:function(e){T.animateProgress$.next({value:100*d.progress(),inner:!0}),c.u_angle.value=p.u_angle}}).to(p,6,{u_angle:1,ease:Z.c.easeInOut});console.timeEnd("createObjects"),T.animatePause$.subscribe(function(e){e?d.pause():d.resume()}),T.animateProgress$.pipe(Object(I.a)(function(e){return!e.inner})).subscribe(function(e){d.progress(e.value)})}},{key:"update",value:function(){}}]),e}();var J=n(180),K=n(42),U=n(350),Q=n(194),ee=[4056753,2288880,1692157,1356285,2916315,4018879,6633907,10498738,13706409,16454556,16600491,16689108,16777215].map(function(e){return new S.MeshBasicMaterial({color:e,side:S.DoubleSide})}),te=Object(H.a)().domain([3,6,9,12,15,18,21,24,27,30,33,36,39]).range(ee),ne=function(){function e(t,n){Object(u.a)(this,e),this.geojson=t,this.options=Object(G.a)({},n),this.mercator=new L}return Object(h.a)(e,[{key:"init",value:function(e){var t=this;this.group=new S.Group,this.group.name="GeoJsonLayer.group",e.add(this.group),Object(J.featureEach)(this.geojson,function(e,n){return t.createMesh(e,n)})}},{key:"destroy",value:function(){}},{key:"createMesh",value:function(e,t){var n=this,a=new S.Geometry,o=[];"MultiPolygon"===Object(K.getType)(e)?Object(K.getCoords)(e).forEach(function(e){return o.push(e)}):(Object(K.getType)(e),o.push(Object(K.getCoords)(e)));o.forEach(function(o,r){var i=Object(K.getCoord)(Object(K.centroid)(Object(K.polygon)(o))),s=n.mercator.fromGeo(i[0],i[1]);if(n.options.fill){var c=new S.Shape,l=o[0].map(function(e){return n.mercator.fromGeo(e[0],e[1])}),u=l.shift();c.moveTo(u.x-s.x,u.y-s.y),l.forEach(function(e){c.lineTo(e.x-s.x,e.y-s.y)});var h=new S.ExtrudeGeometry(c,{amount:-5,bevelEnabled:!0,bevelSegments:2,steps:2,bevelSize:1,bevelThickness:1}),p=new S.Mesh(h,te(e.properties.value));p.position.set(s.x,0,s.y),p.rotation.x=1.5707963,n.group.add(p)}else{var d=o[0].map(function(e){var t=n.mercator.fromGeo(e[0],e[1]);return new S.Vector3(t.x-s.x,0,t.y-s.y)});Object(Q.a)(d,function(e,t){return a.vertices.push(e,t)});var f=new S.LineBasicMaterial({color:n.options.color||6815486,opacity:0,transparent:!0}),v=new S.LineSegments(a,f);v.scale.set(.001,1,.001),v.position.set(s.x,n.options.pos||5,s.y);var m={_scale:.001};if(Z.f.to(m,1,{_scale:1,delay:1+.03*t,ease:U.a.config(10),onUpdate:function(e){v.scale.set(m._scale,1,m._scale),v.material.opacity=m._scale*(n.options.opacity||.3)}}),n.group.add(v),1===e.properties.NROSIEDLA){var y=v.clone();y.material.color.setHex(3447003),y.scale.set(.99,1,.99),n.group.add(y)}}})}},{key:"update",value:function(){}}]),e}();n(351);var ae=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).canvasRef=i.a.createRef(),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.sceneManager=new W(this.canvasRef.current),this.initLayers()}},{key:"componentWillUnmount",value:function(){this.sceneManager.destroy()}},{key:"initLayers",value:function(){var e=this;w.a.get("".concat("/wroclove-data","/assets/wroclaw-osiedla-simplified.geo.json")).then(function(t){var n=new ne(t.data);e.sceneManager.addLayer(n)}),w.a.get("".concat("/wroclove-data","/assets/centroidy.csv")).then(function(t){var n=new q(t.data);e.sceneManager.addLayer(n)})}},{key:"render",value:function(){return i.a.createElement("div",{className:j.a.wrapper},i.a.createElement("canvas",{ref:this.canvasRef,className:j.a.canvas}))}}]),t}(r.Component),oe=n(181),re=n(182),ie=n.n(re),se=function(e,t,n){return"M 0,0 0,".concat(n," ").concat(t,",").concat(n," ").concat(t,",0 0,0 Z M 0,0 ").concat(t,",0 ").concat(t,",").concat(n," 0,").concat(n," Z")},ce=function(e,t,n){return"M 0,0 0,".concat(n," ").concat(t,",").concat(n," ").concat(t,",0 0,0 Z M ").concat(e,",").concat(e," ").concat(t,",0 ").concat(t,",").concat(n," 0,").concat(n," Z")},le=function(e,t,n){return"M 0,0 0,".concat(n," ").concat(t,",").concat(n," ").concat(t,",0 0,0 Z M ").concat(e,",").concat(e," ").concat(t-e,",").concat(e," ").concat(t,",").concat(n," 0,").concat(n," Z")},ue=function(e,t,n){return"M 0,0 0,".concat(n," ").concat(t,",").concat(n," ").concat(t,",0 0,0 Z M ").concat(e,",").concat(e," ").concat(t-e,",").concat(e," ").concat(t-e,",").concat(n-e," 0,").concat(n," Z")},he=function(e,t,n){return"M 0,0 0,".concat(n," ").concat(t,",").concat(n," ").concat(t,",0 0,0 Z M ").concat(e,",").concat(e," ").concat(t-e,",").concat(e," ").concat(t-e,",").concat(n-e," ").concat(e,",").concat(n-e," Z")},pe=(r.Component,n(183)),de="above",fe="below",ve="inside",me="invisible",ye=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={progress:0},n.refEl=i.a.createRef(),n.scrollableParent=null,n.subscriptions=[],n.handleScroll=n.handleScroll.bind(Object(v.a)(Object(v.a)(n))),n.renderArgs={},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"componentDidMount",value:function(){this.scrollableParent=this.getScrollableParent(),this.scroll$=Object(R.a)(this.scrollableParent,"scroll",{passive:!0}),this.subscriptions.push(this.scroll$),this.scroll$.subscribe(this.handleScroll)}},{key:"handleScroll",value:function(e){var t=this.getBounds(),n=this.position,a=this.getPosition(t);this.position=a;var o={position:a};if(0===t.topOffsetPx){var r=(t.viewportBottom-t.viewportTop)/2,i=1-Math.max(Math.min((t.waypointTop-r)/r,1),0),s=1-Math.max(Math.min(-(t.waypointBottom-r)/r,1),0),c=i>s?-1:1;o.direction=c,a===ve?(o.progress=Math.min(i,s),Math.min(i,s),this.props.onProgress(o),this.setState(o)):(o.progress=0,this.setState(o))}n!==a&&(a===ve?this.props.onEnter():n===ve&&this.props.onLeave())}},{key:"getPosition",value:function(e){return e.viewportBottom-e.viewportTop===0?me:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom?ve:e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom?ve:e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?ve:e.viewportBottom<e.waypointTop?fe:e.waypointTop<e.viewportTop?de:me}},{key:"getBounds",value:function(){var e,t,n=this.refEl.current,a=this.props.horizontal,o=n.getBoundingClientRect(),r=o.left,i=o.top,s=o.right,c=o.bottom,l=a?r:i,u=a?s:c;this.scrollableParent===window?(e=a?window.innerWidth:window.innerHeight,t=0):(e=a?n.offsetWidth:n.offsetHeight,t=a?n.getBoundingClientRect().left:n.getBoundingClientRect().top);var h=this.props,p=h.bottomOffset,d=be(h.topOffset,e);return{contextScrollTop:t,topOffsetPx:d,contextHeight:e,waypointTop:l,waypointBottom:u,viewportTop:t+d,viewportBottom:t+e-be(p,e)}}},{key:"getScrollableParent",value:function(){for(var e=this.props.horizontal,t=this.refEl.current;t.parentNode;){if((t=t.parentNode)===document.body)return window;var n=window.getComputedStyle(t),a=(e?n.getPropertyValue("overflow-x"):n.getPropertyValue("overflow-y"))||n.getPropertyValue("overflow");if("auto"===a||"scroll"===a)return t}return window}},{key:"render",value:function(){var e=this.props,t=e.render,n=e.children;return t&&"function"===typeof t?(this.state.cbArgs,i.a.cloneElement(t(this.state),{ref:this.refEl})):Object(pe.isElement)(n)?n:i.a.createElement("div",null)}}]),t}(r.Component);function be(e,t){var n=function(e){if(!isNaN(parseFloat(e))&&isFinite(e))return parseFloat(e);if("px"===e.slice(-2))return parseFloat(e.slice(0,-2))}(e);if("number"===typeof n)return n;var a=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof a?a*t:void 0}ye.defaultProps={topOffset:"0px",bottomOffset:"0px",horizontalll:!1,onProgress:function(){}},ye.displayName="Scrollr";var ge=n(352),we=n(106),xe=n.n(we);r.Component;var Oe=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={enabledScene:!0,enabledFrame:!1,enabledAnimate:!1,enabledLerp:!0,progress:0,radius:0},e.toggle=e.toggle.bind(Object(v.a)(Object(v.a)(e))),e.handleWaypointEnter=e.handleWaypointEnter.bind(Object(v.a)(Object(v.a)(e))),e.handleWaypointLeave=e.handleWaypointLeave.bind(Object(v.a)(Object(v.a)(e))),e.handleWaypointProgress=e.handleWaypointProgress.bind(Object(v.a)(Object(v.a)(e))),e.pauseResume=e.pauseResume.bind(Object(v.a)(Object(v.a)(e))),e.animateSetProgress=e.animateSetProgress.bind(Object(v.a)(Object(v.a)(e))),e.animateSetRadius=e.animateSetRadius.bind(Object(v.a)(Object(v.a)(e))),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.animateProgress$.subscribe(function(t){e.setState({progress:t.value})}),T.radius$.subscribe(function(t){e.setState({radius:t.value})})}},{key:"toggle",value:function(e){this.setState(function(t){return"enabledLerp"===e&&T.sceneLerp$.next(!t[e]),Object(l.a)({},e,!t[e])})}},{key:"pauseResume",value:function(){T.animatePause$.next(!this.state.enabledAnimate),this.setState(function(e){return{enabledAnimate:!e.enabledAnimate}})}},{key:"animateSetProgress",value:function(e){T.animateProgress$.next({value:e/100,inner:!1}),this.setState({progress:e})}},{key:"animateSetRadius",value:function(e){e=Math.max(e,.1),T.radius$.next({value:e/100,inner:!1}),this.setState({radius:e})}},{key:"handleWaypointEnter",value:function(){console.log("enter"),T.sceneSwitch$.next({layer:"heatmap",visible:!0})}},{key:"handleWaypointLeave",value:function(){console.log("leave"),T.sceneSwitch$.next({layer:"heatmap",visible:!1})}},{key:"handleWaypointProgress",value:function(e){var t=e.progress,n=e.direction;T.sceneProgress$.next({layer:"heatmap",progress:t,direction:n})}},{key:"onPositionChange",value:function(e){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"debug"},i.a.createElement(m.a,{onClick:function(){return e.toggle("enabledFrame")}},"frame on/off"),i.a.createElement(m.a,{onClick:function(){return e.toggle("enabledScene")}},"scene on/off"),i.a.createElement(m.a,{onClick:function(){return e.pauseResume()},type:"primary"},"pause / resume")),i.a.createElement("div",{className:"debug-controls"},i.a.createElement("div",{className:"control"},i.a.createElement(y.a,{defaultChecked:!0,checkedChildren:"animating",unCheckedChildren:"paused",onChange:this.pauseResume,checked:!this.state.enabledAnimate}),i.a.createElement(y.a,{defaultChecked:!0,checkedChildren:"lerp",unCheckedChildren:"control",onChange:function(){return e.toggle("enabledLerp")},checked:this.state.enabledLerp})),i.a.createElement("div",{className:"control"},i.a.createElement("span",null,"animation:"),i.a.createElement(b.a,{step:.1,onChange:this.animateSetProgress,value:this.state.progress})),i.a.createElement("div",{className:"control"},i.a.createElement("span",null,"grid radius:"),i.a.createElement(b.a,{step:.1,onChange:this.animateSetRadius,value:this.state.radius}))),this.state.enabledScene&&i.a.createElement(ae,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[197,2,1]]]);
//# sourceMappingURL=main.dd5f3e1a.chunk.js.map